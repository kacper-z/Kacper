import java.awt.AWTException;
import java.awt.Color;
import java.awt.Desktop;
import java.awt.Robot;
import java.awt.event.InputEvent;
import java.awt.event.KeyEvent;
import java.io.File;
import java.io.IOException;


public class Bocik {

	public static void main(String[] args) throws IOException, InterruptedException, AWTException{
		Robot robot=new Robot();

		
		Color gray=new Color(28, 28, 34);
		Color avatar=new Color(33,33,41);
	
		File file=new File("C:\\Users\\qaspa\\Desktop\\przykladowyplik.html");
		Desktop deskop=Desktop.getDesktop();
		deskop.open(file); // otworzenie pliku 
		Thread.sleep(1300);
		Color pixelcolor=robot.getPixelColor(1028, 97);
		if (pixelcolor.equals(gray)==false) { //maksymalizacja okna w przypadku gdy okno nie jest powiększone (Skrót alt+spacja+S)
			robot.keyPress(KeyEvent.VK_ALT);
			robot.keyPress(KeyEvent.VK_SPACE);
			robot.keyPress(KeyEvent.VK_S);
			robot.keyRelease(KeyEvent.VK_ALT);
			robot.keyRelease(KeyEvent.VK_SPACE);
			robot.keyRelease(KeyEvent.VK_S);
			Thread.sleep(2000);
			
		}
    
    //przejście z pliku na stronę 
    
		//wlaczenie strony
		robot.mouseMove(329, 97);
    
		robot.mousePress(InputEvent.BUTTON1_MASK); //kliknięcie myszką 
		robot.mouseRelease(InputEvent.BUTTON1_MASK); /zwolnienie kliknięcia 

		Thread.sleep(1300);
		int i=0;
    //bot załączy się w momencie wejścia na stronę 
		while (i!=1) { 
			pixelcolor=robot.getPixelColor(1028, 97);
      
			if (pixelcolor.equals(gray)) { //warunek sprawdzający czy strona już się załadowała.
      
				Thread.sleep(200);
				Color pixelcolor2=robot.getPixelColor(237, 350);
                     
				if (pixelcolor2.equals(avatar)) { //jeżeli akcja została wykonana wcześniej i nie ma czego zbierać bot się wyłączy 
					break;
				}
				else {
				//train
				robot.mouseMove(240, 349);
				robot.mousePress(InputEvent.BUTTON1_MASK);
				robot.mouseRelease(InputEvent.BUTTON1_MASK);
				Thread.sleep(1500);
				
				//rewards 
				robot.mouseMove(425, 148);
				robot.mousePress(InputEvent.BUTTON1_MASK);
				robot.mouseRelease(InputEvent.BUTTON1_MASK);		
				Thread.sleep(1000);
				
				//daily reward
				robot.mouseMove(853, 744);
				robot.mousePress(InputEvent.BUTTON1_MASK);
				robot.mouseRelease(InputEvent.BUTTON1_MASK);								
				}
				i++;
			}
		}
    
    //zamknięcie karty i koniec programu 
		
		robot.keyPress(KeyEvent.VK_CONTROL);
		robot.keyPress(KeyEvent.VK_W);
		robot.keyRelease(KeyEvent.VK_CONTROL);
		robot.keyRelease(KeyEvent.VK_W);
		

}
}
